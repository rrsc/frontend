<div class="search-bar">
  <mat-form-field appearance="outline" class="search-field full-width">
    <mat-label>{{ placeholder }}</mat-label>
    
    <!-- Input de búsqueda -->
    <input 
      matInput 
      type="text" 
      [(ngModel)]="searchQuery" 
      (ngModelChange)="onSearch()"
      (keyup.enter)="onSubmit()"
      [placeholder]="placeholder"
      #searchInput
    />
    
    <!-- Icono de búsqueda -->
    <mat-icon matPrefix class="search-icon">search</mat-icon>
    
    <!-- Botón de limpiar (solo si hay texto) -->
    <button 
      *ngIf="searchQuery" 
      matSuffix 
      mat-icon-button 
      aria-label="Limpiar búsqueda"
      (click)="onClear()"
      class="clear-button"
    >
      <mat-icon>close</mat-icon>
    </button>
  </mat-form-field>
  
  <!-- Botón de búsqueda (opcional) -->
  <button 
    *ngIf="showButton" 
    mat-raised-button 
    color="primary" 
    (click)="onSubmit()"
    [disabled]="!searchQuery"
    class="search-button"
  >
    <mat-icon>{{ icon }}</mat-icon>
    <span>{{ buttonText }}</span>
  </button>
</div>
