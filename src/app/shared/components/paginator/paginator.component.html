<div class="paginator-container">
  <!-- Info de rango -->
  <div class="paginator-info" *ngIf="!hidePageSize">
    <span class="info-text">{{ getDisplayedRange() }}</span>
  </div>
  
  <!-- Controles de navegación -->
  <div class="paginator-controls">
    <!-- Botones de navegación -->
    <div class="navigation-buttons">
      <button 
        mat-icon-button 
        [disabled]="disabled || currentPage === 0"
        (click)="goToFirstPage()"
        matTooltip="Primera página"
        class="nav-button"
      >
        <mat-icon>first_page</mat-icon>
      </button>
      
      <button 
        mat-icon-button 
        [disabled]="disabled || currentPage === 0"
        (click)="onPageChange({pageIndex: currentPage - 1, pageSize: pageSize, length: totalItems})"
        matTooltip="Página anterior"
        class="nav-button"
      >
        <mat-icon>chevron_left</mat-icon>
      </button>
    </div>
    
    <!-- Indicador de página -->
    <div class="page-indicator" *ngIf="!hidePageSize">
      <span class="page-text">
        Página {{ currentPage + 1 }} de {{ getTotalPages() }}
      </span>
    </div>
    
    <!-- Selector de tamaño de página -->
    <div class="page-size-selector" *ngIf="!hidePageSize && pageSizeOptions?.length">
      <mat-form-field appearance="outline" class="size-selector">
        <mat-label>Items por página</mat-label>
        <mat-select 
          [value]="pageSize" 
          (selectionChange)="onPageChange({pageIndex: 0, pageSize: $event.value, length: totalItems})"
          [disabled]="disabled"
        >
          <mat-option *ngFor="let size of pageSizeOptions" [value]="size">
            {{ size }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    
    <!-- Botones de navegación (derecha) -->
    <div class="navigation-buttons">
      <button 
        mat-icon-button 
        [disabled]="disabled || currentPage >= getTotalPages() - 1"
        (click)="onPageChange({pageIndex: currentPage + 1, pageSize: pageSize, length: totalItems})"
        matTooltip="Página siguiente"
        class="nav-button"
      >
        <mat-icon>chevron_right</mat-icon>
      </button>
      
      <button 
        mat-icon-button 
        [disabled]="disabled || currentPage >= getTotalPages() - 1"
        (click)="goToLastPage()"
        matTooltip="Última página"
        class="nav-button"
      >
        <mat-icon>last_page</mat-icon>
      </button>
    </div>
  </div>
  
  <!-- Paginator de Material (alternativo/respaldo) -->
   <!-- Oculto por defecto, usar como respaldo -->
  <mat-paginator 
    *ngIf="false" 
    [length]="totalItems"
    [pageSize]="pageSize"
    [pageSizeOptions]="pageSizeOptions"
    [pageIndex]="currentPage"
    [showFirstLastButtons]="showFirstLastButtons"
    [hidePageSize]="hidePageSize"
    [disabled]="disabled"
    (page)="onPageChange($event)"
    class="material-paginator"
  >
  </mat-paginator>
</div>
